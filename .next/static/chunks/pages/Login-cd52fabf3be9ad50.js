(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[615],{19219:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(40831).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},23569:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>S});var a=t(37876),r=t(14232),l=t(14e3),n=t(48230),i=t.n(n),c=t(60513),o=t(13810),d=t(88992),m=t(29454),h=t(11847),x=t(99993),u=t(28803),p=t(59688),j=t(19219),g=t(93727),w=t(26881),f=t(49101),y=t(98966),N=t(30979),v=t(52452);let b=c.z.object({email:c.z.string().email({message:"Please enter a valid email address"}),password:c.z.string().min(6,{message:"Password must be at least 6 characters"})}),k=e=>{let{router:s,showPassword:t,setShowPassword:r}=e,n=(0,l.useSearchParams)(),c=(null==n?void 0:n.get("from"))||"/",k=(0,d.mN)({resolver:(0,o.u)(b),defaultValues:{email:"",password:""}}),S=async e=>{try{let t=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await t.json();if(!t.ok){p.oR.error(a.message||"Login failed");return}m.A.set("user",JSON.stringify(a.user),{expires:7,path:"/"}),localStorage.setItem("user",JSON.stringify(a.user)),p.oR.success("Login successful!"),s.push(c)}catch(e){console.error("Login error:",e),p.oR.error("Something went wrong. Please try again.")}};return(0,a.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,a.jsx)(N.A,{}),(0,a.jsx)("div",{className:"mt-10"}),(0,a.jsx)("main",{className:"flex-grow flex items-center justify-center py-12",children:(0,a.jsxs)("div",{className:"w-full max-w-md px-4",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Welcome Back"}),(0,a.jsx)("p",{className:"text-muted-foreground mt-2",children:"Sign in to continue to Fingenius"})]}),(0,a.jsxs)("div",{className:"bg-card rounded-lg border shadow-sm p-6",children:[(0,a.jsx)(h.lV,{...k,children:(0,a.jsxs)("form",{onSubmit:k.handleSubmit(S),className:"space-y-6",children:[(0,a.jsx)(h.zB,{control:k.control,name:"email",render:e=>{let{field:s}=e;return(0,a.jsxs)(h.eI,{children:[(0,a.jsx)(h.lR,{children:"Email"}),(0,a.jsx)(h.MJ,{children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(j.A,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(u.p,{placeholder:"name@example.com",className:"pl-10",...s})]})}),(0,a.jsx)(h.C5,{})]})}}),(0,a.jsx)(h.zB,{control:k.control,name:"password",render:e=>{let{field:s}=e;return(0,a.jsxs)(h.eI,{children:[(0,a.jsx)(h.lR,{children:"Password"}),(0,a.jsx)(h.MJ,{children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(g.A,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(u.p,{type:t?"text":"password",className:"pl-10",...s}),(0,a.jsx)(x.$,{type:"button",variant:"ghost",size:"sm",className:"absolute right-1 top-1 h-8 w-8 p-0",onClick:()=>r(!t),children:t?(0,a.jsx)(w.A,{className:"h-4 w-4"}):(0,a.jsx)(f.A,{className:"h-4 w-4"})})]})}),(0,a.jsx)(h.C5,{})]})}}),(0,a.jsxs)(x.$,{type:"submit",className:"w-full",disabled:k.formState.isSubmitting,children:[(0,a.jsx)(y.A,{className:"mr-2 h-4 w-4"}),"Sign In"]})]})}),(0,a.jsx)("div",{className:"mt-6 text-center",children:(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Don't have an account?"," ",(0,a.jsx)(i(),{href:"/signup",className:"text-primary hover:underline",children:"Sign up"})]})})]})]})}),(0,a.jsx)(v.A,{})]})},S=()=>{let e=(0,l.useRouter)(),[s,t]=(0,r.useState)(!1);return(0,a.jsx)(r.Suspense,{fallback:(0,a.jsx)("div",{children:"Loading..."}),children:(0,a.jsx)(k,{router:e,showPassword:s,setShowPassword:t})})}},26881:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(40831).A)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},47632:(e,s,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/Login",function(){return t(23569)}])},49101:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(40831).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},93727:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(40831).A)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[1871,8165,2392,8378,636,6593,8792],()=>s(47632)),_N_E=e.O()}]);