(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5357],{10181:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>k});var l=s(95155),n=s(12115),a=s(76046),i=s(43415),t=s(85060),d=s(69606),o=s(44870),c=s(73312),m=s(33900),x=s(46754),u=s(27348),h=s(51719),p=s(91902),j=s(98867),f=s(21567);let g=u.bL;u.YJ;let y=u.WT,b=n.forwardRef((e,r)=>{let{className:s,children:n,...a}=e;return(0,l.jsxs)(u.l9,{ref:r,className:(0,f.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...a,children:[n,(0,l.jsx)(u.In,{asChild:!0,children:(0,l.jsx)(h.A,{className:"h-4 w-4 opacity-50"})})]})});b.displayName=u.l9.displayName;let N=n.forwardRef((e,r)=>{let{className:s,...n}=e;return(0,l.jsx)(u.PP,{ref:r,className:(0,f.cn)("flex cursor-default items-center justify-center py-1",s),...n,children:(0,l.jsx)(p.A,{className:"h-4 w-4"})})});N.displayName=u.PP.displayName;let v=n.forwardRef((e,r)=>{let{className:s,...n}=e;return(0,l.jsx)(u.wn,{ref:r,className:(0,f.cn)("flex cursor-default items-center justify-center py-1",s),...n,children:(0,l.jsx)(h.A,{className:"h-4 w-4"})})});v.displayName=u.wn.displayName;let w=n.forwardRef((e,r)=>{let{className:s,children:n,position:a="popper",...i}=e;return(0,l.jsx)(u.ZL,{children:(0,l.jsxs)(u.UC,{ref:r,className:(0,f.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:a,...i,children:[(0,l.jsx)(N,{}),(0,l.jsx)(u.LM,{className:(0,f.cn)("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),(0,l.jsx)(v,{})]})})});w.displayName=u.UC.displayName,n.forwardRef((e,r)=>{let{className:s,...n}=e;return(0,l.jsx)(u.JU,{ref:r,className:(0,f.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...n})}).displayName=u.JU.displayName;let C=n.forwardRef((e,r)=>{let{className:s,children:n,...a}=e;return(0,l.jsxs)(u.q7,{ref:r,className:(0,f.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...a,children:[(0,l.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,l.jsx)(u.VF,{children:(0,l.jsx)(j.A,{className:"h-4 w-4"})})}),(0,l.jsx)(u.p4,{children:n})]})});C.displayName=u.q7.displayName,n.forwardRef((e,r)=>{let{className:s,...n}=e;return(0,l.jsx)(u.wv,{ref:r,className:(0,f.cn)("-mx-1 my-1 h-px bg-muted",s),...n})}).displayName=u.wv.displayName;var R=s(30814),z=s(44836),I=s(86222),B=s(88893);let M=i.z.object({age:i.z.string().min(1,{message:"Age is required"}),gender:i.z.string().min(1,{message:"Gender is required"}),income:i.z.string().min(1,{message:"Income is required"}),bankBalance:i.z.string().min(1,{message:"Bank balance is required"}),propertiesWorth:i.z.string().min(1,{message:"Property worth is required"}),debt:i.z.string().min(1,{message:"Debt information is required"}),insurance:i.z.string().min(1,{message:"Insurance information is required"}),medicalCondition:i.z.string().min(1,{message:"Medical condition is required"}),lifestyle:i.z.string().min(1,{message:"Lifestyle information is required"}),overallDescription:i.z.string().min(10,{message:"Please provide a more detailed description"})}),J=()=>{let e=(0,a.useRouter)();(0,n.useEffect)(()=>{localStorage.getItem("tempUser")||(R.oR.error("Please create an account first"),e.push("/signup"))},[e]);let r=(0,d.mN)({resolver:(0,t.u)(M),defaultValues:{age:"",gender:"",income:"",bankBalance:"",propertiesWorth:"",debt:"",insurance:"",medicalCondition:"",lifestyle:"",overallDescription:""}}),s=async r=>{try{let s=JSON.parse(localStorage.getItem("tempUser")||"{}");if(!(null==s?void 0:s.id)){R.oR.error("User not found. Please sign up again."),e.push("/signup");return}let l=await fetch("/api/registration",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:s.id,...r})}),n=await l.json();if(!l.ok){R.oR.error(n.message||"Failed to save registration details");return}R.oR.success("Registration details saved successfully!"),e.push("/")}catch(e){R.oR.error("Something went wrong. Please try again.")}};return(0,l.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,l.jsx)(I.A,{}),(0,l.jsx)("div",{className:"mt-10"}),(0,l.jsx)("main",{className:"flex-grow py-12",children:(0,l.jsx)("div",{className:"container mx-auto px-4",children:(0,l.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,l.jsxs)("div",{className:"text-center mb-8",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold",children:"Complete Your Profile"}),(0,l.jsx)("p",{className:"text-muted-foreground mt-2",children:"Help us personalize your financial experience"})]}),(0,l.jsx)("div",{className:"bg-card rounded-lg border shadow-sm p-6 md:p-8",children:(0,l.jsx)(o.lV,{...r,children:(0,l.jsxs)("form",{onSubmit:r.handleSubmit(s),className:"space-y-6",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsx)(o.zB,{control:r.control,name:"age",render:e=>{let{field:r}=e;return(0,l.jsxs)(o.eI,{children:[(0,l.jsx)(o.lR,{children:"Age"}),(0,l.jsx)(o.MJ,{children:(0,l.jsx)(m.p,{type:"number",placeholder:"30",...r})}),(0,l.jsx)(o.C5,{})]})}}),(0,l.jsx)(o.zB,{control:r.control,name:"gender",render:e=>{let{field:r}=e;return(0,l.jsxs)(o.eI,{children:[(0,l.jsx)(o.lR,{children:"Gender"}),(0,l.jsxs)(g,{onValueChange:r.onChange,defaultValue:r.value,children:[(0,l.jsx)(o.MJ,{children:(0,l.jsx)(b,{children:(0,l.jsx)(y,{placeholder:"Select gender"})})}),(0,l.jsxs)(w,{children:[(0,l.jsx)(C,{value:"male",children:"Male"}),(0,l.jsx)(C,{value:"female",children:"Female"}),(0,l.jsx)(C,{value:"other",children:"Other"}),(0,l.jsx)(C,{value:"prefer-not-to-say",children:"Prefer not to say"})]})]}),(0,l.jsx)(o.C5,{})]})}})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsx)(o.zB,{control:r.control,name:"income",render:e=>{let{field:r}=e;return(0,l.jsxs)(o.eI,{children:[(0,l.jsx)(o.lR,{children:"Monthly Income (â‚¹)"}),(0,l.jsx)(o.MJ,{children:(0,l.jsx)(m.p,{placeholder:"50000",...r})}),(0,l.jsx)(o.C5,{})]})}}),(0,l.jsx)(o.zB,{control:r.control,name:"bankBalance",render:e=>{let{field:r}=e;return(0,l.jsxs)(o.eI,{children:[(0,l.jsx)(o.lR,{children:"Bank Balance (â‚¹)"}),(0,l.jsx)(o.MJ,{children:(0,l.jsx)(m.p,{placeholder:"200000",...r})}),(0,l.jsx)(o.C5,{})]})}})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsx)(o.zB,{control:r.control,name:"propertiesWorth",render:e=>{let{field:r}=e;return(0,l.jsxs)(o.eI,{children:[(0,l.jsx)(o.lR,{children:"Properties Worth (â‚¹)"}),(0,l.jsx)(o.MJ,{children:(0,l.jsx)(m.p,{placeholder:"5000000",...r})}),(0,l.jsx)(o.C5,{})]})}}),(0,l.jsx)(o.zB,{control:r.control,name:"debt",render:e=>{let{field:r}=e;return(0,l.jsxs)(o.eI,{children:[(0,l.jsx)(o.lR,{children:"Debt (â‚¹)"}),(0,l.jsx)(o.MJ,{children:(0,l.jsx)(m.p,{placeholder:"100000",...r})}),(0,l.jsx)(o.C5,{})]})}})]}),(0,l.jsx)(o.zB,{control:r.control,name:"insurance",render:e=>{let{field:r}=e;return(0,l.jsxs)(o.eI,{children:[(0,l.jsx)(o.lR,{children:"Insurance Details"}),(0,l.jsx)(o.MJ,{children:(0,l.jsx)(m.p,{placeholder:"Life insurance policy details",...r})}),(0,l.jsx)(o.C5,{})]})}}),(0,l.jsx)(o.zB,{control:r.control,name:"medicalCondition",render:e=>{let{field:r}=e;return(0,l.jsxs)(o.eI,{children:[(0,l.jsx)(o.lR,{children:"Medical Condition"}),(0,l.jsx)(o.MJ,{children:(0,l.jsx)(m.p,{placeholder:"Any ongoing medical conditions",...r})}),(0,l.jsx)(o.C5,{})]})}}),(0,l.jsx)(o.zB,{control:r.control,name:"lifestyle",render:e=>{let{field:r}=e;return(0,l.jsxs)(o.eI,{children:[(0,l.jsx)(o.lR,{children:"Lifestyle"}),(0,l.jsxs)(g,{onValueChange:r.onChange,defaultValue:r.value,children:[(0,l.jsx)(o.MJ,{children:(0,l.jsx)(b,{children:(0,l.jsx)(y,{placeholder:"Select lifestyle"})})}),(0,l.jsxs)(w,{children:[(0,l.jsx)(C,{value:"frugal",children:"Frugal"}),(0,l.jsx)(C,{value:"moderate",children:"Moderate"}),(0,l.jsx)(C,{value:"lavish",children:"Lavish"})]})]}),(0,l.jsx)(o.C5,{})]})}}),(0,l.jsx)(o.zB,{control:r.control,name:"overallDescription",render:e=>{let{field:r}=e;return(0,l.jsxs)(o.eI,{children:[(0,l.jsx)(o.lR,{children:"Overall Financial Description"}),(0,l.jsx)(o.MJ,{children:(0,l.jsx)(x.T,{placeholder:"Describe your financial goals and current situation",className:"min-h-32",...r})}),(0,l.jsx)(o.C5,{})]})}}),(0,l.jsxs)(c.$,{type:"submit",className:"w-full",disabled:r.formState.isSubmitting,children:[(0,l.jsx)(z.A,{className:"mr-2 h-4 w-4"}),"Complete Registration"]})]})})})]})})}),(0,l.jsx)(B.A,{})]})};function k(){return(0,l.jsx)(J,{})}},44650:(e,r,s)=>{Promise.resolve().then(s.bind(s,10181))},46754:(e,r,s)=>{"use strict";s.d(r,{T:()=>i});var l=s(95155),n=s(12115),a=s(21567);let i=n.forwardRef((e,r)=>{let{className:s,...n}=e;return(0,l.jsx)("textarea",{className:(0,a.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:r,...n})});i.displayName="Textarea"}},e=>{var r=r=>e(e.s=r);e.O(0,[4124,8438,8770,2537,1356,9328,8441,6587,7358],()=>r(44650)),_N_E=e.O()}]);